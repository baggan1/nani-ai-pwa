<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>NANI</title>

  <link rel="manifest" href="/manifest.json" />
  <meta name="theme-color" content="#14A1A1" />
  <link rel="icon" href="/icons/icon-192.png" />

  <link rel="stylesheet" href="/ui.css" />
</head>

<body>

<!-- ðŸŒ¿ WELCOME SCREEN -->
<div id="welcome-screen" class="welcome-screen">
  <img src="/icons/nani-avatar.png" class="welcome-avatar" />

  <h1 class="welcome-title">Welcome to Nani</h1>
  <p class="welcome-subtitle">
    Your nature-based wellness guide. Sign in to begin your free trial.
  </p>

<div class="welcome-form-group">

  <!-- Magic Link Login -->
  <input id="magic-email" type="email" placeholder="Enter your email" />
  <button id="send-magic-btn">Send One-Time Login Link</button>

  <div class="divider">OR</div>

  <!-- Google Login -->
  <button id="google-btn" class="google-btn">
    <span class="google-icon">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
        <path fill="#EA4335"
          d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.89 2.54 30.47 0 24 0 14.8 0 6.83 5.71 2.84 13.89l7.98 6.19C12.76 14.01 17.92 9.5 24 9.5z"/>
        <path fill="#4285F4"
          d="M46.1 24.5c0-1.64-.15-3.21-.43-4.72H24v9.49h12.36c-.53 2.74-2.1 5.06-4.43 6.61l7.08 5.52C43.41 37.05 46.1 31.24 46.1 24.5z"/>
        <path fill="#FBBC05"
          d="M10.82 28.08c-.48-1.43-.75-2.96-.75-4.58s.27-3.15.75-4.58l-7.98-6.19C.98 16.07 0 20.19 0 24.5s.98 8.43 2.84 12.19l7.98-6.19z"/>
        <path fill="#34A853"
          d="M24 48c6.48 0 11.92-2.13 15.89-5.78l-7.08-5.52c-2.05 1.38-4.67 2.19-8.81 2.19-6.08 0-11.24-4.51-13.18-10.59l-7.98 6.19C6.83 42.29 14.8 48 24 48z"/>
      </svg>
    </span>
    Continue with Google
  </button>

</div>



<!-- ðŸŒ¿ MAIN APP -->
<div id="chat-app" style="display:none;">

  <!-- HEADER -->
  <div class="header">
    <div class="header-content">
      <div class="avatar"></div>
      <div class="title">Nani</div>
      <div class="subtitle">Your Natural Wellness Guide</div>
    </div>

    <button id="account-btn" class="account-btn">Account</button>
  </div>

  <div class="container">

    <div id="nani-chat-box"></div>

    <div class="input-row">
      <input id="nani-input" placeholder="What are you suffering from?" />
      <button id="nani-send-btn">Send</button>
    </div>

    <!-- Soft upgrade banner -->
    <div id="upgrade-banner" class="upgrade-banner hidden">
      âœ¨ Enjoying Nani? Unlock full access â€”
      <span id="upgrade-link">Subscribe</span>
    </div>

    <!-- Trial expired hard block -->
    <div id="trial-expired" class="expired-box hidden">
      <h3>Your free trial has ended</h3>
      <p>Subscribe to continue using Nani.</p>
      <button id="subscribe-btn">Subscribe</button>
    </div>

  </div>
</div>


<!-- ðŸŒ¿ ACCOUNT PANEL -->
<div id="account-panel" class="account-panel hidden">
  <div class="panel-content">

    <h2>Your Account</h2>

    <div class="role-row">
      <span id="acc-role-badge" class="role-badge">Free</span>
    </div>

    <p><strong>Email:</strong> <span id="acc-email">â€”</span></p>
    <p><strong>Trial Status:</strong> <span id="acc-trial-status">â€”</span></p>
    <p><strong>Days Left:</strong> <span id="acc-days-left">â€”</span></p>
    <p><strong>Subscription:</strong> <span id="acc-sub-status">â€”</span></p>

    <!-- Only ONE upgrade button -->
    <div id="acc-upgrade-block">
      <button id="acc-upgrade-open" class="subscribe-btn">
        ðŸŒ¿ Unlock Nani Premium
      </button>
    </div>

    <!-- Premium options -->
    <button id="manage-billing-btn" class="subscribe-btn hidden">
      Manage Billing
    </button>

    <button id="acc-logout-btn" class="logout-btn">Sign Out</button>
    <button id="acc-close" class="close-btn">Close</button>

  </div>
</div>


<!-- ðŸŒ¿ SUBSCRIPTION MODAL -->
<div id="subscribe-modal" class="subscribe-modal hidden">
  <div class="subscribe-modal-content">
    <h2>Choose Your Nani Plan</h2>
    <p>Select a plan to unlock full access</p>

    <button id="sub-monthly" class="subscribe-btn">ðŸŒ¿ Monthly â€“ $9.99</button>
    <button id="sub-annual" class="subscribe-btn outline">âœ¨ Annual â€“ $79 (Best Value)</button>

    <button id="sub-cancel" class="close-btn">Cancel</button>
  </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script type="module" src="/app.js"></script>

</body>
</html>
